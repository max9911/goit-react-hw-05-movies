"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[46],{469:function(e,t,n){n.d(t,{gA:function(){return l},Xk:function(){return i},e$:function(){return p},V0:function(){return o},Hg:function(){return u}});var r=n(861),a=n(757),c=n.n(a),s=n(340).Z.create({baseURL:"https://api.themoviedb.org/3"}),u=function(){var e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/trending/movie/day?api_key=6333a8a701072b16a61a39d74f06cc56&language=uk-UA");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(c().mark((function e(t,n){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s("/search/movie?api_key=6333a8a701072b16a61a39d74f06cc56&query=".concat(t,"&include_adult=false&language=en-US&page=").concat(n));case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/movie/".concat(t,"?api_key=6333a8a701072b16a61a39d74f06cc56&language=uk-UA"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/movie/".concat(t,"/credits?api_key=6333a8a701072b16a61a39d74f06cc56&language=uk-UA"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/movie/".concat(t,"/reviews?api_key=6333a8a701072b16a61a39d74f06cc56&language=en-US&page=1"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},46:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(439),a=n(791),c={form:"moviesearc_form__BJzw6"},s=n(87),u=n(433),o=n(861),i=n(757),l=n.n(i),p=n(689),f="searchlist_img__ST9-4",d="searchlist_searchItem__jYL2c",h="searchlist_noline__PZ-A0",m="searchlist_loadmore__j2WTa",v="searchlist_goUp__ktLTf",g=n(469),x=n(184),_=function(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=t[0],c=t[1],i=(0,s.lr)(),_=(0,r.Z)(i,1)[0].get("search"),k=(0,a.useState)(_),b=(0,r.Z)(k,2),w=b[0],j=b[1],Z=(0,p.TH)(),y=(0,a.useState)(1),S=(0,r.Z)(y,2),U=S[0],N=S[1],T=(0,a.useState)(1),A=(0,r.Z)(T,2),C=A[0],F=A[1];(0,a.useEffect)((function(){N(1),j(_)}),[_]),(0,a.useEffect)((function(){var e=function(){var e=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.V0)(t,U);case 3:(n=e.sent).total_pages>n.page?F(!0):F(!1),c((function(e){return U>1?[].concat((0,u.Z)(e),(0,u.Z)(n.results)):n.results})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();e(w)}),[U,w]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("ul",{children:n&&n.map((function(e){return(0,x.jsx)(s.rU,{className:h,to:"/movies/".concat(e.id),state:Z,children:(0,x.jsxs)("li",{className:d,children:[(0,x.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(e.poster_path),alt:"poster",className:f}),(0,x.jsx)("h3",{children:e.title}),(0,x.jsxs)("p",{children:["release : ",e.release_date]}),(0,x.jsxs)("p",{children:["Movie owerview: ",e.overview]})]},e.id)})}))}),C&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{className:m,onClick:function(e){N((function(e){return e+1}))},children:"LoadMore"},"loadmore"),(0,x.jsx)("button",{className:v,onClick:function(e){document.body.scrollTop=0,document.documentElement.scrollTop=0},children:"go UP"},"goUp")]})]})},k=function(){var e=(0,s.lr)(""),t=(0,r.Z)(e,2),n=t[0],u=t[1],o=(0,a.useState)(""),i=(0,r.Z)(o,2),l=i[0],p=i[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("form",{className:c.form,onSubmit:function(e){e.preventDefault(),u({search:l})},children:[(0,x.jsx)("input",{name:"search",type:"text",className:c.input,id:"movieSearch",value:l,onChange:function(e){var t=e.target;p(t.value)}}),(0,x.jsx)("button",{type:"submit",className:"btn",children:"Search"},222)]}),n.size>0&&(0,x.jsx)(_,{})]})},b=function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(k,{})})}}}]);
//# sourceMappingURL=46.4995bc30.chunk.js.map